import{c as Vt,R as g,r as N,j as y,m as z,A as Mt,C as fe}from"./index-CoLLSTFM.js";import{H as de}from"./Header-x-afj402.js";import{S as ot}from"./StatCard-CmT1tdfT.js";import{g as he,i as T,G as Kt,a as vt,m as pe,b as R,T as ye,s as mt,f as F,c as G,d as $t,L as rt,e as ve,h as me,u as At,j as _t,k as ge,l as be,n as xe,w as Nt,o as Ht,p as dt,D as we,q as Oe,E as Pe,r as je,A as Se,t as et,v as ke,x as bt,y as Ae,z as _e,B as Ut,F as Ee,H as Tt,I as Ce,J as $e,K as Ne,M as Te,R as qt,N as De,P as ze,O as Le,Q as Fe,S as Ie,C as Be}from"./CategoryChart-C2GrXGO0.js";import{U as Re}from"./users-97-kWeZi.js";import"./useApi-CoBdRkS4.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Ge=Vt("Shirt",We);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Me=Vt("Zap",Ve);function Xt(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Ke(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return he(r,n)}function He(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function lt(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Ue(t,e){return Xt(t,e+1)}function qe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,l=e.end,c=0,d=1,s=o,p=function(){var h=r==null?void 0:r[c];if(h===void 0)return{v:Xt(r,d)};var v=c,m,w=function(){return m===void 0&&(m=n(h,v)),m},x=h.coordinate,b=c===0||lt(t,x,w,s,l);b||(c=0,s=o,d+=1),b&&(s=x+t*(w()/2+i),c+=d)},u;d<=a.length;)if(u=p(),u)return u.v;return[]}function it(t){"@babel/helpers - typeof";return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(t)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dt(Object(n),!0).forEach(function(r){Xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xe(t,e,n){return e=Ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ye(t){var e=Ze(t,"string");return it(e)=="symbol"?e:e+""}function Ze(t,e){if(it(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(it(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Je(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end,d=function(u){var f=a[u],h,v=function(){return h===void 0&&(h=n(f,u)),h};if(u===o-1){var m=t*(f.coordinate+t*v()/2-c);a[u]=f=k(k({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate})}else a[u]=f=k(k({},f),{},{tickCoord:f.coordinate});var w=lt(t,f.tickCoord,v,l,c);w&&(c=f.tickCoord-t*(v()/2+i),a[u]=k(k({},f),{},{isShow:!0}))},s=o-1;s>=0;s--)d(s);return a}function Qe(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var s=r[l-1],p=n(s,l-1),u=t*(s.coordinate+t*p/2-d);o[l-1]=s=k(k({},s),{},{tickCoord:u>0?s.coordinate-u*t:s.coordinate});var f=lt(t,s.tickCoord,function(){return p},c,d);f&&(d=s.tickCoord-t*(p/2+i),o[l-1]=k(k({},s),{},{isShow:!0}))}for(var h=a?l-1:l,v=function(x){var b=o[x],O,P=function(){return O===void 0&&(O=n(b,x)),O};if(x===0){var j=t*(b.coordinate-t*P()/2-c);o[x]=b=k(k({},b),{},{tickCoord:j<0?b.coordinate-j*t:b.coordinate})}else o[x]=b=k(k({},b),{},{tickCoord:b.coordinate});var S=lt(t,b.tickCoord,P,c,d);S&&(c=b.tickCoord+t*(P()/2+i),o[x]=k(k({},b),{},{isShow:!0}))},m=0;m<h;m++)v(m);return o}function Et(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,s=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(T(c)||Kt.isSsr)return Ue(i,typeof c=="number"&&T(c)?c:0);var u=[],f=l==="top"||l==="bottom"?"width":"height",h=s&&f==="width"?vt(s,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(b,O){var P=R(d)?d(b.value,O):b.value;return f==="width"?Ke(vt(P,{fontSize:e,letterSpacing:n}),h,p):vt(P,{fontSize:e,letterSpacing:n})[f]},m=i.length>=2?pe(i[1].coordinate-i[0].coordinate):1,w=He(a,m,f);return c==="equidistantPreserveStart"?qe(m,w,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?u=Qe(m,w,v,i,o,c==="preserveStartEnd"):u=Je(m,w,v,i,o),u.filter(function(x){return x.isShow}))}var tr=["viewBox"],er=["viewBox"],rr=["ticks"];function q(t){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(t)}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U.apply(this,arguments)}function zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zt(Object(n),!0).forEach(function(r){Ct(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gt(t,e){if(t==null)return{};var n=nr(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nr(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zt(r.key),r)}}function ar(t,e,n){return e&&Lt(t.prototype,e),n&&Lt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function or(t,e,n){return e=st(e),lr(t,Yt()?Reflect.construct(e,n||[],st(t).constructor):e.apply(t,n))}function lr(t,e){if(e&&(q(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sr(t)}function sr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yt=function(){return!!t})()}function st(t){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},st(t)}function cr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xt(t,e)}function Ct(t,e,n){return e=Zt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zt(t){var e=ur(t,"string");return q(e)=="symbol"?e:e+""}function ur(t,e){if(q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J=function(t){function e(n){var r;return ir(this,e),r=or(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return cr(e,t),ar(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=gt(r,tr),l=this.props,c=l.viewBox,d=gt(l,er);return!mt(a,c)||!mt(o,d)||!mt(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,s=i.tickSize,p=i.mirror,u=i.tickMargin,f,h,v,m,w,x,b=p?-1:1,O=r.tickSize||s,P=T(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":f=h=r.coordinate,m=o+ +!p*c,v=m-b*O,x=v-b*u,w=P;break;case"left":v=m=r.coordinate,h=a+ +!p*l,f=h-b*O,w=f-b*u,x=P;break;case"right":v=m=r.coordinate,h=a+ +p*l,f=h+b*O,w=f+b*u,x=P;break;default:f=h=r.coordinate,m=o+ +p*c,v=m+b*O,x=v+b*u,w=P;break}return{line:{x1:f,y1:v,x2:h,y2:m},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,s=r.axisLine,p=_(_(_({},F(this.props,!1)),F(s,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var u=+(c==="top"&&!d||c==="bottom"&&d);p=_(_({},p),{},{x1:i,y1:a+u*l,x2:i+o,y2:a+u*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);p=_(_({},p),{},{x1:i+f*o,y1:a,x2:i+f*o,y2:a+l})}return g.createElement("line",U({},p,{className:G("recharts-cartesian-axis-line",$t(s,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,s=l.tick,p=l.tickFormatter,u=l.unit,f=Et(_(_({},this.props),{},{ticks:r}),i,a),h=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),m=F(this.props,!1),w=F(s,!1),x=_(_({},m),{},{fill:"none"},F(c,!1)),b=f.map(function(O,P){var j=o.getTickLineCoord(O),S=j.line,L=j.tick,$=_(_(_(_({textAnchor:h,verticalAnchor:v},m),{},{stroke:"none",fill:d},w),L),{},{index:P,payload:O,visibleTicksCount:f.length,tickFormatter:p});return g.createElement(rt,U({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},ve(o.props,O,P)),c&&g.createElement("line",U({},x,S,{className:G("recharts-cartesian-axis-tick-line",$t(c,"className"))})),s&&e.renderTickItem(s,$,"".concat(R(p)?p(O.value,P):O.value).concat(u||"")))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,s=i.hide;if(s)return null;var p=this.props,u=p.ticks,f=gt(p,rr),h=u;return R(c)&&(h=u&&u.length>0?c(this.props):c(f)),o<=0||l<=0||!h||!h.length?null:g.createElement(rt,{className:G("recharts-cartesian-axis",d),ref:function(m){r.layerReference=m}},a&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),me.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return g.isValidElement(r)?o=g.cloneElement(r,i):R(r)?o=r(i):o=g.createElement(ye,U({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(N.Component);Ct(J,"displayName","CartesianAxis");Ct(J,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fr=["x1","y1","x2","y2","key"],dr=["offset"];function V(t){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(t)}function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ft(Object(n),!0).forEach(function(r){hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hr(t,e,n){return e=pr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pr(t){var e=yr(t,"string");return V(e)=="symbol"?e:e+""}function yr(t,e){if(V(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(V(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W.apply(this,arguments)}function It(t,e){if(t==null)return{};var n=vr(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vr(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mr=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return g.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Jt(t,e){var n;if(g.isValidElement(t))n=g.cloneElement(t,e);else if(R(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=It(e,fr),d=F(c,!1);d.offset;var s=It(d,dr);n=g.createElement("line",W({},s,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function gr(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=A(A({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return Jt(i,d)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function br(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=A(A({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return Jt(i,d)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function xr(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var s=l.map(function(u){return Math.round(u+i-i)}).sort(function(u,f){return u-f});i!==s[0]&&s.unshift(0);var p=s.map(function(u,f){var h=!s[f+1],v=h?i+o-u:s[f+1]-u;if(v<=0)return null;var m=f%e.length;return g.createElement("rect",{key:"react-".concat(f),y:u,x:r,height:v,width:a,stroke:"none",fill:e[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function wr(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var s=d.map(function(u){return Math.round(u+a-a)}).sort(function(u,f){return u-f});a!==s[0]&&s.unshift(0);var p=s.map(function(u,f){var h=!s[f+1],v=h?a+l-u:s[f+1]-u;if(v<=0)return null;var m=f%r.length;return g.createElement("rect",{key:"react-".concat(f),x:u,y:o,width:v,height:c,stroke:"none",fill:r[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Or=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return Ht(Et(A(A(A({},J.defaultProps),r),{},{ticks:dt(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Pr=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return Ht(Et(A(A(A({},J.defaultProps),r),{},{ticks:dt(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},K={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qt(t){var e,n,r,i,a,o,l=At(),c=_t(),d=ge(),s=A(A({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:K.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:K.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:K.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:K.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:K.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:K.verticalFill,x:T(t.x)?t.x:d.left,y:T(t.y)?t.y:d.top,width:T(t.width)?t.width:d.width,height:T(t.height)?t.height:d.height}),p=s.x,u=s.y,f=s.width,h=s.height,v=s.syncWithTicks,m=s.horizontalValues,w=s.verticalValues,x=be(),b=xe();if(!T(f)||f<=0||!T(h)||h<=0||!T(p)||p!==+p||!T(u)||u!==+u)return null;var O=s.verticalCoordinatesGenerator||Or,P=s.horizontalCoordinatesGenerator||Pr,j=s.horizontalPoints,S=s.verticalPoints;if((!j||!j.length)&&R(P)){var L=m&&m.length,$=P({yAxis:b?A(A({},b),{},{ticks:L?m:b.ticks}):void 0,width:l,height:c,offset:d},L?!0:v);Nt(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(V($),"]")),Array.isArray($)&&(j=$)}if((!S||!S.length)&&R(O)){var B=w&&w.length,I=O({xAxis:x?A(A({},x),{},{ticks:B?w:x.ticks}):void 0,width:l,height:c,offset:d},B?!0:v);Nt(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(V(I),"]")),Array.isArray(I)&&(S=I)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(mr,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(gr,W({},s,{offset:d,horizontalPoints:j,xAxis:x,yAxis:b})),g.createElement(br,W({},s,{offset:d,verticalPoints:S,xAxis:x,yAxis:b})),g.createElement(xr,W({},s,{horizontalPoints:j})),g.createElement(wr,W({},s,{verticalPoints:S})))}Qt.displayName="CartesianGrid";var jr=["type","layout","connectNulls","ref"],Sr=["key"];function X(t){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(t)}function Bt(t,e){if(t==null)return{};var n=kr(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kr(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nt.apply(this,arguments)}function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rt(Object(n),!0).forEach(function(r){D(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H(t){return Cr(t)||Er(t)||_r(t)||Ar()}function Ar(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _r(t,e){if(t){if(typeof t=="string")return wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(t,e)}}function Er(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cr(t){if(Array.isArray(t))return wt(t)}function wt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ee(r.key),r)}}function Nr(t,e,n){return e&&Wt(t.prototype,e),n&&Wt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tr(t,e,n){return e=ct(e),Dr(t,te()?Reflect.construct(e,n||[],ct(t).constructor):e.apply(t,n))}function Dr(t,e){if(e&&(X(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zr(t)}function zr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(te=function(){return!!t})()}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ct(t)}function Lr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}function Ot(t,e){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ot(t,e)}function D(t,e,n){return e=ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ee(t){var e=Fr(t,"string");return X(e)=="symbol"?e:e+""}function Fr(t,e){if(X(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var at=function(t){function e(){var n;$r(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Tr(this,e,[].concat(i)),D(n,"state",{isAnimationFinished:!0,totalLength:0}),D(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),D(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(w,x){return w+x});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var s=Math.floor(o/d),p=o%d,u=l-o,f=[],h=0,v=0;h<c.length;v+=c[h],++h)if(v+c[h]>p){f=[].concat(H(c.slice(0,h)),[p-v]);break}var m=f.length%2===0?[0,u]:[u];return[].concat(H(e.repeat(c,s)),H(f),m).map(function(w){return"".concat(w,"px")}).join(", ")}),D(n,"id",Ee("recharts-line-")),D(n,"pathRef",function(o){n.mainCurve=o}),D(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),D(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Lr(e,t),Nr(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,d=a.layout,s=a.children,p=Oe(s,Pe);if(!p)return null;var u=function(v,m){return{x:v.x,y:v.y,value:v.value,errorVal:Ut(v.payload,m)}},f={clipPath:r?"url(#clipPath-".concat(i,")"):null};return g.createElement(rt,f,p.map(function(h){return g.cloneElement(h,{key:"bar-".concat(h.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:u})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,s=l.dataKey,p=F(this.props,!1),u=F(c,!0),f=d.map(function(v,m){var w=C(C(C({key:"dot-".concat(m),r:3},p),u),{},{value:v.value,dataKey:s,cx:v.x,cy:v.y,index:m,payload:v.payload});return e.renderDotItem(c,w)}),h={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return g.createElement(rt,nt({className:"recharts-line-dots",key:"dots"},h),f)}},{key:"renderCurveStatically",value:function(r,i,a,o){var l=this.props,c=l.type,d=l.layout,s=l.connectNulls;l.ref;var p=Bt(l,jr),u=C(C(C({},F(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:d,connectNulls:s});return g.createElement(je,nt({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,s=o.animationBegin,p=o.animationDuration,u=o.animationEasing,f=o.animationId,h=o.animateNewValues,v=o.width,m=o.height,w=this.state,x=w.prevPoints,b=w.totalLength;return g.createElement(Se,{begin:s,duration:p,isActive:d,easing:u,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var P=O.t;if(x){var j=x.length/l.length,S=l.map(function(E,yt){var Q=Math.floor(yt*j);if(x[Q]){var tt=x[Q],M=et(tt.x,E.x),se=et(tt.y,E.y);return C(C({},E),{},{x:M(P),y:se(P)})}if(h){var ce=et(v*2,E.x),ue=et(m/2,E.y);return C(C({},E),{},{x:ce(P),y:ue(P)})}return C(C({},E),{},{x:E.x,y:E.y})});return a.renderCurveStatically(S,r,i)}var L=et(0,b),$=L(P),B;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});B=a.getStrokeDasharray($,b,I)}else B=a.generateSimpleStrokeDasharray(b,$);return a.renderCurveStatically(l,r,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,d=c.prevPoints,s=c.totalLength;return l&&o&&o.length&&(!d&&s>0||!ke(d,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,s=i.yAxis,p=i.top,u=i.left,f=i.width,h=i.height,v=i.isAnimationActive,m=i.id;if(a||!l||!l.length)return null;var w=this.state.isAnimationFinished,x=l.length===1,b=G("recharts-line",c),O=d&&d.allowDataOverflow,P=s&&s.allowDataOverflow,j=O||P,S=bt(m)?this.id:m,L=(r=F(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=L.r,B=$===void 0?3:$,I=L.strokeWidth,E=I===void 0?2:I,yt=Ae(o)?o:{},Q=yt.clipDot,tt=Q===void 0?!0:Q,M=B*2+E;return g.createElement(rt,{className:b},O||P?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(S)},g.createElement("rect",{x:O?u:u-f/2,y:P?p:p-h/2,width:O?f:f*2,height:P?h:h*2})),!tt&&g.createElement("clipPath",{id:"clipPath-dots-".concat(S)},g.createElement("rect",{x:u-M/2,y:p-M/2,width:f+M,height:h+M}))):null,!x&&this.renderCurve(j,S),this.renderErrorBar(j,S),(x||o)&&this.renderDots(j,tt,S),(!v||w)&&_e.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(H(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(H(o),H(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(g.isValidElement(r))a=g.cloneElement(r,i);else if(R(r))a=r(i);else{var o=i.key,l=Bt(i,Sr),c=G("recharts-line-dot",typeof r!="boolean"?r.className:"");a=g.createElement(we,nt({key:o},l,{className:c}))}return a}}])}(N.PureComponent);D(at,"displayName","Line");D(at,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Kt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});D(at,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,s=e.layout,p=c.map(function(u,f){var h=Ut(u,o);return s==="horizontal"?{x:Tt({axis:n,ticks:i,bandSize:l,entry:u,index:f}),y:bt(h)?null:r.scale(h),value:h,payload:u}:{x:bt(h)?null:n.scale(h),y:Tt({axis:r,ticks:a,bandSize:l,entry:u,index:f}),value:h,payload:u}});return C({points:p,layout:s},d)});function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function Ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ie(r.key),r)}}function Rr(t,e,n){return e&&Br(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wr(t,e,n){return e=ut(e),Gr(t,re()?Reflect.construct(e,n||[],ut(t).constructor):e.apply(t,n))}function Gr(t,e){if(e&&(Y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(t)}function Vr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function re(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(re=function(){return!!t})()}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ut(t)}function Mr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pt(t,e)}function Pt(t,e){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pt(t,e)}function ne(t,e,n){return e=ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ie(t){var e=Kr(t,"string");return Y(e)=="symbol"?e:e+""}function Kr(t,e){if(Y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jt(){return jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jt.apply(this,arguments)}function Hr(t){var e=t.xAxisId,n=At(),r=_t(),i=Ce(e);return i==null?null:g.createElement(J,jt({},i,{className:G("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return dt(o,!0)}}))}var ht=function(t){function e(){return Ir(this,e),Wr(this,e,arguments)}return Mr(e,t),Rr(e,[{key:"render",value:function(){return g.createElement(Hr,this.props)}}])}(g.Component);ne(ht,"displayName","XAxis");ne(ht,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function Ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,le(r.key),r)}}function Xr(t,e,n){return e&&qr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yr(t,e,n){return e=ft(e),Zr(t,ae()?Reflect.construct(e,n||[],ft(t).constructor):e.apply(t,n))}function Zr(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(t)}function Jr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ae=function(){return!!t})()}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ft(t)}function Qr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&St(t,e)}function St(t,e){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},St(t,e)}function oe(t,e,n){return e=le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function le(t){var e=tn(t,"string");return Z(e)=="symbol"?e:e+""}function tn(t,e){if(Z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kt.apply(this,arguments)}var en=function(e){var n=e.yAxisId,r=At(),i=_t(),a=$e(n);return a==null?null:g.createElement(J,kt({},a,{className:G("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return dt(l,!0)}}))},pt=function(t){function e(){return Ur(this,e),Yr(this,e,arguments)}return Qr(e,t),Xr(e,[{key:"render",value:function(){return g.createElement(en,this.props)}}])}(g.Component);oe(pt,"displayName","YAxis");oe(pt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var rn=Ne({chartName:"LineChart",GraphicalChild:at,axisComponents:[{axisType:"xAxis",AxisComp:ht},{axisType:"yAxis",AxisComp:pt}],formatAxisMap:Te});const nn=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(""),[i,a]=N.useState(!1),o=c=>{e(c.target.files[0]),r(""),a(!1)},l=async()=>{if(!t){r("Por favor, selecciona un archivo."),a(!0);return}const c=new FormData;c.append("excelFile",t);try{const s=await(await fetch("/api/upload",{method:"POST",body:c})).json();r(s.message||"Archivo subido correctamente."),a(!1)}catch(d){console.error(d),r("Error al subir el archivo."),a(!0)}};return y.jsxs(z.div,{className:"bg-gray-800 bg-opacity-50 backdrop-blur-md shadow-lg rounded-xl p-6 border border-gray-700 text-gray-100 w-full ",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[y.jsx("h2",{className:"text-lg font-medium mb-4",children:"Subir Archivo Excel"}),y.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:o,className:"mb-4 w-full p-2 border border-gray-600 rounded bg-gray-900 text-gray-200"}),y.jsx("button",{onClick:l,className:"w-full bg-violet-700 text-white py-2 rounded-md hover:bg-violet-600 transition-all duration-200",children:"Subir Archivo"}),n&&y.jsx(z.p,{className:`mt-4 text-center text-sm ${i?"text-red-400":"text-green-400"}`,initial:{opacity:0},animate:{opacity:1},children:n})]})},an=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0);return N.useEffect(()=>{fetch("/api/salesOverview").then(i=>i.json()).then(i=>{const a=i.map(o=>({name:o.month,sales:Number(o.totalSales)}));e(a),r(!1)}).catch(i=>{console.error("Error fetching sales overview:",i),r(!1)})},[]),y.jsx(z.div,{className:"bg-gray-800 bg-opacity-50 backdrop-blur-md shadow-lg rounded-xl p-6 border border-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:y.jsx(Mt,{mode:"wait",children:n?y.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[y.jsx("div",{className:"mb-4",children:y.jsx("div",{className:"h-6 w-1/3 bg-gray-600 rounded animate-pulse"})}),y.jsx("div",{className:"h-80",children:y.jsx("div",{className:"h-full w-full bg-gray-600 rounded animate-pulse"})})]},"skeleton"):y.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsx("h2",{className:"text-lg font-normal mb-4",style:{color:"#E5E7EB"},children:"Resumen de Ventas por Mes"}),y.jsx("div",{className:"h-80",children:y.jsx(qt,{width:"100%",height:"100%",children:y.jsxs(rn,{data:t,children:[y.jsx(Qt,{strokeDasharray:"3 3",stroke:"#4B5563"}),y.jsx(ht,{dataKey:"name",stroke:"#9CA3AF"}),y.jsx(pt,{stroke:"#9CA3AF"}),y.jsx(De,{contentStyle:{backgroundColor:"rgba(31,41,55,0.8)",borderColor:"#4B5563"},itemStyle:{color:"#E5E7EB"}}),y.jsx(at,{type:"monotone",dataKey:"sales",stroke:"#6366F1",strokeWidth:3,dot:{fill:"#C7D2FE",strokeWidth:2,r:4},activeDot:{r:4,strokeWidth:2}})]})})})]},"content")})})};class Gt extends N.PureComponent{renderContent(){const{name:e,type:n,value:r,trend:i,time:a,data1:o=[],colors:l=["#0088FE","#00C49F","#FFBB28","#FF8042"],chartWidth:c=500,chartHeight:d=300}=this.props;let s="";if(r!=null){const h=parseFloat(typeof r=="string"?r.replace(/[^0-9.-]+/g,""):r);!isNaN(h)&&isFinite(h)?s=h.toLocaleString("es-MX"):s=String(r)}else s="0";let p="";if(i!=null){const h=String(i).replace(/[^0-9.-]+/g,""),v=parseFloat(h);!isNaN(v)&&isFinite(v)?p=v.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}):p=String(i)}n==="Percentage"?s+="%":n==="Money"&&(s=`$${s}`);let u;a===void 0?u="desde el mes pasado":a!=="semana"?u=`desde el ${a} pasado`:u=`desde la ${a} pasada`;const f=p&&String(p).includes("-")?"text-red-500":"text-green-500";return y.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:y.jsxs("div",{className:"px-4 py-3 sm:p-6",children:[y.jsx("span",{className:"block text-md font-normal",style:{color:"#E5E7EB"},children:e}),y.jsx("p",{className:"text-4xl py-4 font-semibold",style:{color:"#E0E7FF"},children:s}),y.jsx("div",{className:"h-52",children:y.jsx(qt,{width:"100%",height:"100%",children:y.jsxs(ze,{width:c,height:d,children:[y.jsx(Le,{data:o,nameKey:"name",dataKey:"value",cx:50,cy:61,innerRadius:47,outerRadius:65,fill:"#8884d8",paddingAngle:9,legendType:"circle",children:o.map((h,v)=>y.jsx(Fe,{fill:l[v%l.length]},`cell1-${v}`))}),y.jsx(Ie,{layout:"vertical",verticalAlign:"bottom",align:"left"})]})})}),p&&y.jsxs("div",{className:"flex gap-2 mt-2",children:[y.jsx("span",{className:`text-sm font-medium ${f}`,children:`${p}%`}),y.jsx("p",{className:"text-xs text-gray-400 p-1",children:u})]})]})},"content")}renderSkeleton(){return y.jsxs(z.div,{className:"p-6 animate-pulse",initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[y.jsx("div",{className:"h-6 bg-gray-600 rounded w-1/2 mb-4"}),y.jsx("div",{className:"h-10 bg-gray-600 rounded w-full mb-4"}),y.jsx("div",{className:"h-52 bg-gray-600 rounded mb-4"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("div",{className:"h-4 bg-gray-600 rounded w-1/4"}),y.jsx("div",{className:"h-4 bg-gray-600 rounded w-1/4"})]})]},"skeleton")}render(){const{isLoading:e}=this.props;return y.jsx(z.div,{className:"relative bg-gray-800 bg-opacity-20 backdrop-blur-md overflow-hidden shadow-lg rounded-xl border border-gray-700",whileHover:{y:-5,boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)"},children:y.jsx(Mt,{mode:"wait",children:e?this.renderSkeleton():this.renderContent()})})}}const dn=()=>{const[t,e]=N.useState({totalSales:0,newClients:0,totalPieces:0,changePercentage:0,inventoryCount:0,frequentClients:0,lostClients:0,newClientsTrend:0,piecesTrend:0}),[n,r]=N.useState(!0),i=[{name:"Camisas",value:400},{name:"Pantalones",value:300},{name:"Tenis",value:300},{name:"Edredon",value:200}],a=[{name:"Recurrentes",value:t.frequentClients},{name:"Nuevos",value:t.newClients},{name:"Perdidos",value:t.lostClients}],o=t.frequentClients+t.newClients+t.lostClients;return N.useEffect(()=>{r(!0),fetch("/api/dashboardStats").then(l=>l.json()).then(l=>{e(l)}).catch(l=>{console.error("Error fetching dashboard stats:",l)}).finally(()=>r(!1))},[]),y.jsxs("div",{className:"flex-1 overflow-auto relative z-10",children:[y.jsx(de,{title:"Ventas"}),y.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 lg:px-8 xl:px-12",children:[y.jsxs(z.div,{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-2 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},children:[y.jsxs(z.div,{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},children:[y.jsx(ot,{name:"Ventas totales",icon:Me,type:"Money",trend:5.4,value:t.totalSales.toLocaleString("en-US"),color:"#efefef",isLoading:n}),y.jsx(ot,{name:"Nuevos clientes",icon:Re,trend:t.newClientsTrend,value:t.newClients,color:"#efefef",isLoading:n}),y.jsx(ot,{name:"Cambio",icon:fe,type:"Percentage",trend:2.3,value:typeof t.changePercentage=="number"?t.changePercentage.toFixed(2):0,color:"#efefef",isLoading:n}),y.jsx(ot,{name:"Ordenes en Inventario",icon:Ge,type:"",trend:3.7,value:t.inventoryCount,color:"#efefef",isLoading:n})]}),y.jsxs(z.div,{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},children:[y.jsx(Gt,{name:"Prendas Totales",value:t.totalPieces,trend:t.piecesTrend,color:"#efefef",time:"año",data1:i,colors:["#6366F1","#818CF8","#A5B4FC","#C7D2FE"],isLoading:n}),y.jsx(Gt,{name:"Clientes",value:o,color:"#efefef",data1:a,colors:["#6366F1","#818CF8","#A5B4FC","#C7D2FE"],isLoading:n})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsx(an,{}),y.jsx(Be,{}),y.jsx(nn,{})]})]})]})};export{dn as default};
